# ğŸ¤– AWS ê¸°ë°˜ AI ë°ì´í„°ì…‹ íë ˆì´ì…˜ GUI ë„êµ¬ (AI Dataset Curation Tool)

íš¨ìœ¨ì ì¸ AI ë°ì´í„°ì…‹ êµ¬ì¶•ì„ ìœ„í•œ ë°ìŠ¤í¬í†± ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. ë¡œì»¬ì— ì €ì¥ëœ ëŒ€ê·œëª¨ ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ AWS S3ì™€ DynamoDBë¡œ ì´ì „í•˜ê³ , PySide6 ê¸°ë°˜ì˜ GUIë¥¼ í†µí•´ ì‚¬ìš©ìê°€ ì§ê´€ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì •ì œ, ì„ íƒ ë° ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•©ë‹ˆë‹¤.

## ğŸ¯ í”„ë¡œì íŠ¸ ëª©í‘œ (Project Goal)

ë³¸ í”„ë¡œì íŠ¸ëŠ” ëŒ€ê·œëª¨ ìƒí’ˆ ì´ë¯¸ì§€ ë°ì´í„°ì…‹ì„ AWS í´ë¼ìš°ë“œ í™˜ê²½ìœ¼ë¡œ ì´ì „í•˜ê³ , ì—¬ëŸ¬ ì‚¬ìš©ìê°€ ì¼ê´€ëœ ê¸°ì¤€ì— ë”°ë¼ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì •ì œí•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” í†µí•© íë ˆì´ì…˜ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

## âœ¨ ì£¼ìš” ê¸°ëŠ¥ (Key Features)

### ëŒ€í‘œ ì´ë¯¸ì§€ ì„ ì •
- **ëŒ€í‘œ ìƒ‰ìƒ**: ì •ë©´/í›„ë©´ ëˆ„ë¼, ëª¨ë¸ ì°©ìš©ìƒ· (ì´ 3ê°œ) ì„ íƒ
- **ê¸°íƒ€ ìƒ‰ìƒ**: ì •ë©´ ëˆ„ë¼ (ìƒ‰ìƒë³„ 1ê°œ) ì„ íƒ

### ì´ë¯¸ì§€ ê´€ë¦¬
- **ì¬ë¶„ë¥˜**: í…ìŠ¤íŠ¸ í¬í•¨ ì´ë¯¸ì§€ë¥¼ text í´ë”ë¡œ ì´ë™
- **ì‚­ì œ**: ë¶ˆí•„ìš”í•˜ê±°ë‚˜ í’ˆì§ˆì´ ë‚®ì€ ì´ë¯¸ì§€ ì œê±°
- **ì—…ë¡œë“œ**: ë¡œì»¬ì˜ ì´ë¯¸ì§€ë¥¼ S3ì— ì—…ë¡œë“œí•˜ì—¬ ì¦‰ì‹œ íë ˆì´ì…˜ì— ë°˜ì˜

### ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬
- **í˜ì´ì§€ë„¤ì´ì…˜**: DynamoDBì˜ ìˆ˜ë§Œ ê±´ ë°ì´í„°ë¥¼ í˜ì´ì§€ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ì–´ ë¡œë“œí•˜ì—¬ ë©”ëª¨ë¦¬ ë° ë„¤íŠ¸ì›Œí¬ ë¶€í•˜ ìµœì†Œí™”
- **ì‘ì—… ìƒíƒœ ì €ì¥**: ì‚¬ìš©ìê°€ ì•±ì„ ì¢…ë£Œí•´ë„ ë§ˆì§€ë§‰ ì‘ì—… ì§€ì ì„ ê¸°ì–µí•˜ì—¬, ë‹¤ìŒ ì‹¤í–‰ ì‹œ ì¤‘ë‹¨ëœ ë¶€ë¶„ë¶€í„° ì‘ì—…ì„ ì¬ê°œ
- **íš¨ìœ¨ì  ì´ë¯¸ì§€ ì¡°íšŒ**: DynamoDBì— ì €ì¥ëœ íŒŒì¼ ë¦¬ìŠ¤íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ S3 ê°ì²´ í‚¤ë¥¼ ì§ì ‘ êµ¬ì„±í•˜ì—¬ `list_objects_v2` í˜¸ì¶œ ìµœì†Œí™”

### ì‚¬ìš©ì ê²½í—˜ ìµœì í™”
- **ë¹„ë™ê¸° ì²˜ë¦¬**: QThreadë¥¼ í™œìš©í•´ AWS í†µì‹  ì¤‘ì—ë„ GUIê°€ ë©ˆì¶”ì§€ ì•ŠëŠ” ë°˜ì‘í˜• UI êµ¬í˜„
- **ë¡œì»¬ ìºì‹±**: ì¡°íšŒí•œ ì¸ë„¤ì¼ ì´ë¯¸ì§€ë¥¼ ìºì‹±í•˜ì—¬ ë°˜ë³µ ì¡°íšŒ ì‹œ ë¡œë”© ì†ë„ í–¥ìƒ ë° ë¹„ìš© ì ˆê°
- **ì¦‰ì‹œ ë°˜ì˜**: ì´ë¯¸ì§€ íŒŒì¼ ë¦¬ìŠ¤íŠ¸ê°€ DynamoDBì— ì €ì¥ë˜ì–´ ìˆì–´ ì—…ë¡œë“œ/ì‚­ì œ ì‘ì—… í›„ ì¦‰ì‹œ UIì— ë°˜ì˜

## ğŸ›ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ (System Architecture)

### ì „ì²´ ë°ì´í„° íë¦„
```
1. ìµœì´ˆ ë°ì´í„° ì´ì „ (ë¡œì»¬ â†’ AWS)
   â”‚
   â””â”€> 2. GUI ì‹¤í–‰ ë° AWS ì¸ì¦
       â”‚
       â””â”€> 3. ë°ì´í„° ì¡°íšŒ (DynamoDB ë©”íƒ€ë°ì´í„° + S3 ì¸ë„¤ì¼)
           â”‚
           â””â”€> 4. ì‚¬ìš©ì íë ˆì´ì…˜ ì‘ì—… ìˆ˜í–‰
               â”‚
               â””â”€> 5. ê²°ê³¼ ë°˜ì˜ (S3 ê°ì²´ ë° DynamoDB ì•„ì´í…œ ì—…ë°ì´íŠ¸)
```

### ë¹„ìš© ìµœì í™” ì „ëµ

#### 1. S3 API í˜¸ì¶œ ìµœì†Œí™” (ì£¼ìš” ìµœì í™”)
- **DynamoDB ê¸°ë°˜ íŒŒì¼ ê´€ë¦¬**: ê° ì œí’ˆì˜ ì´ë¯¸ì§€ íŒŒì¼ ë¦¬ìŠ¤íŠ¸ë¥¼ DynamoDBì— ì €ì¥í•˜ì—¬ S3 `list_objects_v2` API í˜¸ì¶œì„ ëŒ€í­ ê°ì†Œ
- **ì§ì ‘ í‚¤ êµ¬ì„±**: `main_category/sub_category/product_id/folder/filename` í˜•íƒœë¡œ S3 ê°ì²´ í‚¤ë¥¼ ì§ì ‘ êµ¬ì„±í•˜ì—¬ ì¡°íšŒ ì„±ëŠ¥ í–¥ìƒ
- **ë°°ì¹˜ URL ìƒì„±**: ì—¬ëŸ¬ ì´ë¯¸ì§€ì˜ Presigned URLì„ í•œ ë²ˆì— ìƒì„±í•˜ì—¬ API í˜¸ì¶œ íšŸìˆ˜ ìµœì†Œí™”

#### 2. S3 ìˆ˜ëª… ì£¼ê¸° ì •ì±… (í–¥í›„ êµ¬í˜„ ì˜ˆì •)
- **ëŒ€í‘œ ì´ë¯¸ì§€ íƒœê¹…**: íë ˆì´ì…˜ ì™„ë£Œ ì‹œ ì„ ì •ëœ ëŒ€í‘œ ì´ë¯¸ì§€ì— `status: representative` íƒœê·¸ ì§€ì •
- **ìë™ ì•„ì¹´ì´ë¹™**: íƒœê·¸ê°€ ì—†ëŠ” ì´ë¯¸ì§€ë“¤ì„ S3 Glacier Instant Retrievalë¡œ ìë™ ì „í™˜í•˜ì—¬ ìŠ¤í† ë¦¬ì§€ ë¹„ìš© ì ˆê°

#### 3. ë°ì´í„° ì „ì†¡ ìµœì í™”
- **ì¸ë„¤ì¼ ìºì‹±**: ë¡œì»¬ì— ì´ë¯¸ì§€ ìºì‹œ ì €ì¥ìœ¼ë¡œ ë°˜ë³µ ë‹¤ìš´ë¡œë“œ ë°©ì§€
- **ì˜¨ë””ë§¨ë“œ ë¹Œë§**: DynamoDB PAY_PER_REQUEST ëª¨ë“œë¡œ ì‹¤ì œ ì‚¬ìš©ëŸ‰ì— ë”°ë¥¸ ê³¼ê¸ˆ

## ğŸ’¾ ë°ì´í„° êµ¬ì¡° ì„¤ê³„ (Data Structure Design)

### 1. Amazon S3: ê°ì²´ í‚¤ êµ¬ì¡°
ì´ë¯¸ì§€ì™€ ë©”íƒ€ë°ì´í„°ëŠ” ë…¼ë¦¬ì  ê·¸ë£¹í™”ë¥¼ ìœ„í•´ ì•„ë˜ì™€ ê°™ì€ ê³„ì¸µì  í‚¤ êµ¬ì¡°ë¡œ S3ì— ì €ì¥ë©ë‹ˆë‹¤.

```
main_category/
â”‚
â””â”€â”€ sub_category/                  (ì„œë¸Œ ì¹´í…Œê³ ë¦¬ ID)
    â”‚
    â”œâ”€â”€ 79823/             (ì œí’ˆ ID)
    â”‚   â”œâ”€â”€ meta.json
    â”‚   â”œâ”€â”€ detail/
    â”‚   â”‚   â”œâ”€â”€ image_001.jpg
    â”‚   â”‚   â””â”€â”€ ...
    â”‚   â”œâ”€â”€ segment/
    â”‚   â”‚   â””â”€â”€ ...
    â”‚   â””â”€â”€ ...
    â”‚
    â””â”€â”€ 117785/
        â””â”€â”€ ...
```

### 2. Amazon DynamoDB: í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ
**ì—­í• **: ìƒí’ˆì˜ ê¸°ë³¸ ì •ë³´, íë ˆì´ì…˜ ìƒíƒœ, í´ë”ë³„ ì´ë¯¸ì§€ íŒŒì¼ ë¦¬ìŠ¤íŠ¸ë¥¼ ê´€ë¦¬í•˜ì—¬ S3 `list_objects_v2` í˜¸ì¶œì„ ìµœì†Œí™”í•˜ê³  ë¹„ìš©ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.

**í…Œì´ë¸” ì •ë³´**:
- í…Œì´ë¸”ëª…: `ProductAssets`
- íŒŒí‹°ì…˜ í‚¤ (PK): `sub_category` (Number)
- ì •ë ¬ í‚¤ (SK): `product_id` (String)
- ë¹Œë§ ëª¨ë“œ: PAY_PER_REQUEST (ì˜¨ë””ë§¨ë“œ)

#### ì´ˆê¸° ì—…ë¡œë“œ í›„ ìƒì„±ë˜ëŠ” ì†ì„±(Attributes):

| ì†ì„± ì´ë¦„ | ë°ì´í„° íƒ€ì… | ì—­í•  ë° ì„¤ëª… |
|-----------|-------------|--------------|
| `sub_category` | Number | (PK) ìƒí’ˆì˜ ì„œë¸Œ ì¹´í…Œê³ ë¦¬ ID |
| `product_id` | String | (SK) ê³ ìœ  ìƒí’ˆ ID |
| `main_category` | String | ë©”ì¸ ì¹´í…Œê³ ë¦¬ëª… (ì˜ˆ: "TOP") |
| `current_status` | String | íë ˆì´ì…˜ ìƒíƒœ (ì´ˆê¸°ê°’: "PENDING") |
| `created_at` | String | ì œí’ˆ ìƒì„± ì‹œê° (ISO 8601 í˜•ì‹) |
| `last_updated_at` | String | ë§ˆì§€ë§‰ ìˆ˜ì • ì‹œê° (ISO 8601 í˜•ì‹) |
| `detail` | List | detail í´ë”ì˜ ì´ë¯¸ì§€ íŒŒì¼ëª… ë¦¬ìŠ¤íŠ¸ (ë¹ˆ ë¦¬ìŠ¤íŠ¸ í—ˆìš©) |
| `summary` | List | summary í´ë”ì˜ ì´ë¯¸ì§€ íŒŒì¼ëª… ë¦¬ìŠ¤íŠ¸ (ë¹ˆ ë¦¬ìŠ¤íŠ¸ í—ˆìš©) |
| `segment` | List | segment í´ë”ì˜ ì´ë¯¸ì§€ íŒŒì¼ëª… ë¦¬ìŠ¤íŠ¸ (ë¹ˆ ë¦¬ìŠ¤íŠ¸ í—ˆìš©) |
| `text` | List | text í´ë”ì˜ ì´ë¯¸ì§€ íŒŒì¼ëª… ë¦¬ìŠ¤íŠ¸ (ë¹ˆ ë¦¬ìŠ¤íŠ¸ í—ˆìš©) |

#### íë ˆì´ì…˜ ì™„ë£Œ í›„ ì¶”ê°€ë˜ëŠ” ì†ì„±:
| ì†ì„± ì´ë¦„ | ë°ì´í„° íƒ€ì… | ì—­í•  ë° ì„¤ëª… |
|-----------|-------------|--------------|
| `representative_assets` | String | ì„ ì •ëœ ëŒ€í‘œ ì´ë¯¸ì§€ ì •ë³´ (JSON ë¬¸ìì—´) |
| `completed_by` | String | ì‘ì—… ì™„ë£Œì ID |

#### íŒŒì¼ ë¦¬ìŠ¤íŠ¸ êµ¬ì¡° ì˜ˆì‹œ:
```json
{
  "sub_category": 1005,
  "product_id": "79823",
  "main_category": "TOP",
  "current_status": "PENDING",
  "created_at": "2024-01-15T10:30:00.000Z",
  "last_updated_at": "2024-01-15T10:30:00.000Z",
  "detail": ["image_001.jpg", "image_002.jpg", "image_003.jpg"],
  "summary": ["summary_01.jpg"],
  "segment": [],
  "text": ["text_info.jpg"]
}
```

#### íŠ¹ë³„í•œ ë©”íƒ€ë°ì´í„° ì•„ì´í…œ:
ì¹´í…Œê³ ë¦¬ í†µê³„ ê´€ë¦¬ë¥¼ ìœ„í•œ íŠ¹ë³„í•œ ì•„ì´í…œì´ ìë™ ìƒì„±ë©ë‹ˆë‹¤:
```json
{
  "sub_category": 0,
  "product_id": "CATEGORY_METADATA",
  "categories_info": "{\"main_categories\": [\"TOP\"], \"sub_categories\": {\"TOP\": [1005]}, \"product_counts\": {\"TOP\": {\"1005\": 150}}, \"total_products\": 150}",
  "last_updated_at": "2024-01-15T10:30:00.000Z"
}
```

#### GSI (ê¸€ë¡œë²Œ ë³´ì¡° ì¸ë±ìŠ¤):
- **`CurrentStatus-LastUpdatedAt-GSI`**: íë ˆì´ì…˜ ìƒíƒœë³„ ìµœì‹ ìˆœ ì¡°íšŒ
  - íŒŒí‹°ì…˜ í‚¤: `current_status`
  - ì •ë ¬ í‚¤: `last_updated_at`
  - í”„ë¡œì ì…˜: ëª¨ë“  ì†ì„± (ALL)

#### ë¹„ìš© ìµœì í™” ì„¤ê³„:
- **S3 ì¡°íšŒ ìµœì†Œí™”**: íŒŒì¼ ë¦¬ìŠ¤íŠ¸ë¥¼ DynamoDBì— ì €ì¥í•˜ì—¬ `list_objects_v2` API í˜¸ì¶œ íšŸìˆ˜ ëŒ€í­ ê°ì†Œ
- **ì¼ê´€ëœ ìŠ¤í‚¤ë§ˆ**: ëª¨ë“  ì œí’ˆì´ ë™ì¼í•œ í•„ë“œ êµ¬ì¡°ë¥¼ ê°€ì ¸ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì¿¼ë¦¬ ì„±ëŠ¥ ë³´ì¥
- **ë¹ˆ ë¦¬ìŠ¤íŠ¸ í—ˆìš©**: í´ë”ê°€ ë¹„ì–´ìˆì–´ë„ ëª…ì‹œì ìœ¼ë¡œ í‘œí˜„í•˜ì—¬ ë°ì´í„° ìƒíƒœ ëª…í™•í™”

## ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰

### ìš”êµ¬ì‚¬í•­
- Python 3.8+
- AWS CLI ì„¤ì • ì™„ë£Œ (`aws configure`)
- í•„ìš”í•œ AWS ê¶Œí•œ:
  - S3: `s3:GetObject`, `s3:PutObject`, `s3:DeleteObject`, `s3:ListBucket`
  - DynamoDB: `dynamodb:CreateTable`, `dynamodb:GetItem`, `dynamodb:PutItem`, `dynamodb:UpdateItem`, `dynamodb:Query`, `dynamodb:Scan`

### ì„¤ì¹˜
```bash
# í”„ë¡œì íŠ¸ í´ë¡ 
git clone <repository-url>
cd PySide6-GUI

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install boto3 PySide6 Pillow requests

# AWS ì„¤ì • íŒŒì¼ ìƒì„±
cd aws
cp config.json.example config.json
# config.json íŒŒì¼ì„ í¸ì§‘í•˜ì—¬ ë²„í‚·ëª…ê³¼ í…Œì´ë¸”ëª… ì„¤ì •
```

### ì‹¤í–‰

#### 1. AWS ì¸í”„ë¼ êµ¬ì¶•
```bash
cd aws
python setup_aws_infrastructure.py --bucket-name your-bucket-name
```

#### 2. ì´ˆê¸° ë°ì´í„° ì—…ë¡œë“œ
```bash
python initial_upload.py
```

#### 3. GUI íë ˆì´ì…˜ ë„êµ¬ ì‹¤í–‰
```bash
python gui_main.py
```

#### 4. ë¡œì»¬ ì´ë¯¸ì§€ ê´€ë¦¬ ë„êµ¬ (ì„ íƒì‚¬í•­)
```bash
python main.py
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
PySide6-GUI/
â”œâ”€â”€ main.py                          # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì 
â”œâ”€â”€ aws/                             # AWS ê´€ë ¨ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ aws_manager.py              # í†µí•© AWS ê´€ë¦¬ ëª¨ë“ˆ (S3 + DynamoDB)
â”‚   â”œâ”€â”€ initial_upload.py           # ì´ˆê¸° ë°ì´í„° ì—…ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ setup_aws_infrastructure.py # AWS ì¸í”„ë¼ êµ¬ì¶• ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ gui_main.py                 # AWS ê¸°ë°˜ GUI ë©”ì¸
â”‚   â”œâ”€â”€ image_cache.py              # ì´ë¯¸ì§€ ìºì‹± ëª¨ë“ˆ
â”‚   â”œâ”€â”€ config.json                 # AWS ì„¤ì • íŒŒì¼
â”‚   â””â”€â”€ widgets/                    # AWS GUI ìœ„ì ¯ë“¤
â”‚       â”œâ”€â”€ main_image_viewer.py    # ë©”ì¸ ì´ë¯¸ì§€ ë·°ì–´
â”‚       â”œâ”€â”€ product_list_widget.py  # ì œí’ˆ ëª©ë¡ ìœ„ì ¯
â”‚       â”œâ”€â”€ representative_panel.py # ëŒ€í‘œ ì´ë¯¸ì§€ ì„ íƒ íŒ¨ë„
â”‚       â”œâ”€â”€ category_selection_dialog.py # ì¹´í…Œê³ ë¦¬ ì„ íƒ ë‹¤ì´ì–¼ë¡œê·¸
â”‚       â””â”€â”€ image_viewer_dialog.py  # ì´ë¯¸ì§€ ìƒì„¸ ë·°ì–´
â”œâ”€â”€ widgets/                        # ë¡œì»¬ GUI ìœ„ì ¯ ëª¨ë“ˆë“¤
â”‚   â”œâ”€â”€ image_grid.py
â”‚   â”œâ”€â”€ image_viewer.py
â”‚   â”œâ”€â”€ project_tree.py
â”‚   â””â”€â”€ ...
â”œâ”€â”€ TOP/                            # í…ŒìŠ¤íŠ¸ ë°ì´í„° (ë©”ì¸ ì¹´í…Œê³ ë¦¬)
â”‚   â””â”€â”€ 1005/                       # ì„œë¸Œ ì¹´í…Œê³ ë¦¬
â””â”€â”€ test_data_*/                    # ê¸°íƒ€ í…ŒìŠ¤íŠ¸ ë°ì´í„°
```

## ğŸ¤ ê¸°ì—¬í•˜ê¸° (Contributing)

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“„ ë¼ì´ì„ ìŠ¤ (License)

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ `LICENSE` íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ“ ì—°ë½ì²˜ (Contact)

í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì´ìŠˆë¥¼ ìƒì„±í•´ ì£¼ì„¸ìš”.